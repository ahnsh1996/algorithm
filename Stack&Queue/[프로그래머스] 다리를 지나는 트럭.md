# [프로그래머스] 다리를 지나는 트럭
## 문제
### 문제 설명
([원본 문제](https://programmers.co.kr/learn/courses/30/lessons/42583)의 내용을 복사한 것입니다.)

트럭 여러 대가 강을 가로지르는 일 차선 다리를 정해진 순으로 건너려 합니다. 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 알아내야 합니다. 트럭은 1초에 1만큼 움직이며, 다리 길이는 bridge_length이고 다리는 무게 weight까지 견딥니다.
※ 트럭이 다리에 완전히 오르지 않은 경우, 이 트럭의 무게는 고려하지 않습니다.

예를 들어, 길이가 2이고 10kg 무게를 견디는 다리가 있습니다. 무게가 [7, 4, 5, 6]kg인 트럭이 순서대로 최단 시간 안에 다리를 건너려면 다음과 같이 건너야 합니다.

|경과 시간|다리를 지난 트럭|다리를 건너는 트럭|대기 트럭|
|:---:|:---:|:---:|:---:|
|0|[]|[]|[7,4,5,6]|
|1~2|[]|[7]|[4,5,6]|
|3|[7]|[4]|[5,6]|
|4|[7]|[4,5]|[6]|
|5|[7,4]|[5]|[6]|
|6~7|[7,4,5]|[6]|[]|
|8|[7,4,5,6]|[]|[]|

따라서, 모든 트럭이 다리를 지나려면 최소 8초가 걸립니다.

solution 함수의 매개변수로 다리 길이 bridge_length, 다리가 견딜 수 있는 무게 weight, 트럭별 무게 truck_weights가 주어집니다. 이때 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 return 하도록 solution 함수를 완성하세요.

### 제한사항
* bridge_length는 1 이상 10,000 이하입니다.
* weight는 1 이상 10,000 이하입니다.
* truck_weights의 길이는 1 이상 10,000 이하입니다.
* 모든 트럭의 무게는 1 이상 weight 이하입니다.

### 입출력 예
|bridge_length|weight|truck_weights|return|
|:---:|:---:|:---:|:---:|
|2|10|[7,4,5,6]|8|
|100|100|[10]|101|
|100|100|[10,10,10,10,10,10,10,10,10,10]|110|

## 제출답안
```python
from collections import deque
def solution(bridge_length, weight, truck_weights):
    time = 0
    bridge = deque() # 다리를 지나는 트럭(트럭의 무게가 아닌 해당 트럭이 몇 초에 다리를 건너는지가 저장됨)
    truck = deque(truck_weights) # 대기 트럭
    total_weight = 0 # 현재 다리에 있는 트럭 무게의 합
    idx = 0 # 다리를 건널 트럭이 몇 번째 트럭인지 나타냄

    while True:
        time += 1
        if bridge and bridge[0] == time: # bridge 큐의 맨 앞에 있는 트럭이 다리를 건널 시간이면 건넘
            if idx == len(truck_weights) - 1: break # 현재 다리를 건넌 트럭이 마지막 트럭이면 반복 종료
            bridge.popleft()
            total_weight -= truck_weights[idx] # 현재 다리에 이는 트럭 무게의 합에서 건넌 트럭 무게를 빼줌
            idx += 1 # 다음에 건널 트럭을 갱신(ex. 현재 0번 트럭이 건넜으면 다음에 건널 트럭은 1번 트럭)
        if truck and total_weight+truck[0] <= weight and len(bridge)+1 <= bridge_length: # 다리에 대기 트럭에 있는 트럭이 진입할 수 있다면 진입
            bridge.append(time+bridge_length) # bridge 큐에 현재 진입하는 트럭이 몇 초에 다리를 건너게 될 것인지 저장
            total_weight += truck.popleft() # 현재 다리에 이는 트럭 무게의 합에서 진입한 트럭 무게를 더해줌

    return time
```

### 설명
본 문제의 풀이를 아마도 남들과는 약간 다르게 했을 것 같다. 먼저 위의 풀이의 핵심 개념은 'bridge 큐에 무게가 아닌 해당 트럭이 몇 초에 다리를 건너게 될 것인가를 저장하자'이다. 
예를 들어서 다리 길이가 2일 때, 1초에 진입하는 차량은 3초에 다리를 건너게 될 것이다. 따라서 큐에 3을 저장한다. 또한 3초에 진입하는 차량은 5초에 다리를 건너게 될 것이다. 따라서 
큐에 5를 저장한다. 이러한 방식으로 큐에 무게가 아닌 해당 트럭이 다리를 건너게 될 시간을 저장한다면, 해당하는 시간이 됐을 때 다리를 건너게 해주면 된다.(pop을 해주면 된다) 이 경우 무게를 
저장하지 않기 때문에 무게의 합에서 건넌 트럭의 무게를 빼주기 위해서 다리를 건널 트럭의 순서 번호를 나타내는 idx라는 변수를 이용해 무게를 빼주었다.

표를 통해 진행되는 동안의 큐를 살펴보면 다음과 같다.(입출력 예 1번의 입력 가정)

|시간|다리를 건넌 트럭(무게)|bridge 큐(트럭 순서번호)|다리에 있는 트럭 무게 합|대기 트럭(무게)|
|:---:|:---:|:---:|:---:|:---:|
|0|[]|[]|0|[0(7), 1(4), 2(5), 3(6)]|
|1~2|[]|[3초(0)]|7|[1(4), 2(5), 3(6)]|
|3|[0(7)]|[5초(1)]|4|[2(5), 3(6)]|
|4|[0(7)]|[5초(1), 6초(2)]|9|[3(6)]|
|5|[0(7), 1(4)]|[6초(2)]|5|[3(6)]|
|6~7|[0(7), 1(4), 2(5)]|[8초(3)]|6|[]|
|8|[0(7), 1(4), 2(5), 3(6)]|[]|0|[]|

## 개선사항
제출한 답안은 다리의 최대 길이가 10,000이라는 제한사항을 보고, 최대의 길이가 나오더라도 통과하는 데에는 큰 무리가 없을 것 같아 시간을 스킵하는 것을 생각하지 않았다. 하지만 다리의 길이가 더욱 길어진다면 트럭이 이동하는 시간동안 비교적 의미 없는 
반복을 수행하여 효율성이 크게 떨어질 수 있다. 따라서 조금 더 최적화한다면, 트럭이 이동하는 동안의 시간을 스킵하는 것을 고려해주어 훨씬 빠른 결과를 볼 수 있을 것이다.
