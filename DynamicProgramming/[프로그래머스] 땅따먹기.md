# [프로그래머스] 땅따먹기
## 문제
### 문제 설명
([원본 문제](https://programmers.co.kr/learn/courses/30/lessons/12913)의 내용을 복사한 것입니다.)

땅따먹기 게임을 하려고 합니다. 땅따먹기 게임의 땅(land)은 총 N행 4열로 이루어져 있고, 모든 칸에는 점수가 쓰여 있습니다. 1행부터 땅을 밟으며 한 행씩 내려올 때, 각 행의 4칸 중 한 칸만 밟으면서 내려와야 합니다. **단, 땅따먹기 게임에는 한 행씩 내려올 때, 같은 열을 연속해서 밟을 수 없는 특수 규칙이 있습니다.**

예를 들면,

| 1 | 2 | 3 | 5 |

| 5 | 6 | 7 | 8 |

| 4 | 3 | 2 | 1 |

로 땅이 주어졌다면, 1행에서 네번째 칸 (5)를 밟았으면, 2행의 네번째 칸 (8)은 밟을 수 없습니다.

마지막 행까지 모두 내려왔을 때, 얻을 수 있는 점수의 최대값을 return하는 solution 함수를 완성해 주세요. 위 예의 경우, 1행의 네번째 칸 (5), 2행의 세번째 칸 (7), 3행의 첫번째 칸 (4) 땅을 밟아 16점이 최고점이 되므로 16을 return 하면 됩니다.

### 제한사항
* 행의 개수 N : 100,000 이하의 자연수
* 열의 개수는 4개이고, 땅(land)은 2차원 배열로 주어집니다.
* 점수 : 100 이하의 자연수

### 입출력 예
|land|answer|
|:---|:---|
|[[1,2,3,5],[5,6,7,8],[4,3,2,1]]|16|

### 입출력 예 설명
**입출력 예 #1**  
문제의 예시와 같습니다.

## 제출답안
```python
def solution(land):
    max_value = {(x, 0): land[0][x] for x in range(4)} # 해당 좌표까지 내려왔을 때의 점수의 최댓값
    
    for y in range(1, len(land)): # 땅을 내려오면서 해당 지점까지의 최댓값 저장
        for x in range(4):
            # 현재 지점의 점수와 이전 행까지의 최대 점수들 중 최댓값을 더해서 
            # 현재 지점의 최댓값 저장(이전 행 중 같은 열이 아닌 경우만)
            max_value[(x, y)] = land[y][x] + \
                                max(max_value[(x2, y-1)] for x2 in range(4) if x != x2)

    return max(max_value[(x, len(land)-1)] for x in range(4)) # 마지막 행의 점수들 중 최댓값 반환
```

### 설명
본 문제는 완전탐색을 수행하기에는 행의 개수가 많아 경우의 수가 너무 많다. 따라서 다른 방법을 고민해보던 중 
다이나믹 프로그래밍을 이용하면 효율적으로 해결할 수 있다는 것을 알게 되었다.

먼저 해당 지점까지의 점수의 최댓값을 저장하는 max_value를 생성한다.  
~~(보통은 DP에서 배열을 이용하지만, 저는 엄청난 해시 러버기 때문에 해시 테이블인 딕셔너리를 사용하였습니다.)~~

이제 나머지는 땅의 행들을 순회하면서 이전 행의 현재 열과 다른 열들의 지점의 점수 최댓값과 비교하면서 max_value를 갱신하면 된다.

점화식으로 이를 나타내면 다음과 같다.
```
d(x, y) = x, y 지점까지의 점수의 최댓값

(1) y = 0일 때,
d(x, y) = land[y][x]

(2) y > 0일 때,
d(x, y) = land[y][x] + max(d(x′, y-1) for x′ in range(4) if x′ != x)
```

마지막 행까지 위의 점화식을 적용하여 점수들을 구하고나면, 마지막 행들의 점수 중 최댓값이 결국 전체 점수의 최댓값이 될 것이다.

본 문제의 예제를 살펴보면 다음과 같다.

```
| 1 | 2 | 3 | 5 |  land | max_value | 1  | 2  | 3  | 5  |
| 5 | 6 | 7 | 8 |       |           | 10 | 11 | 12 | 11 |
| 4 | 3 | 2 | 1 |       |           | 16 | 15 | 13 | 13 |
```

따라서 정답은 16이 된다.

이를 코드로 구현한 것이 제출 답안이다.
